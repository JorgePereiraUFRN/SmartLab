<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:decorate template="Template.xhtml">
	<ui:define name="centro">

		<h:form id="formMeasurements">
			<p:panelGrid columns="4" style="horizontal-align:">

				<h:outputLabel for="local" value="Predio:" style="width: 10%;" />
				<p:selectOneMenu id="local" value="#{measurementB.localName}"
					effect="fold" editable="false" update="">
					<p:ajax update="room" listener="#{measurementB.initRoomsMap}" />
					<f:selectItem itemLabel="Select One" itemValue="" />
					<f:selectItems value="#{measurementB.localsMap}" />
				</p:selectOneMenu>

				<h:outputLabel for="room" value="Sala:" style="width: 10%;" />
				<p:selectOneMenu id="room" value="#{measurementB.roomName}"
					effect="fold" editable="false" update="">
					<p:ajax update="sensor" listener="#{measurementB.initSensorsMap}" />
					<f:selectItem itemLabel="Select One" itemValue="" />
					<f:selectItems value="#{measurementB.roomsMap}" />
				</p:selectOneMenu>

				<h:outputLabel for="sensor" value="Sensor:" style="width: 10%;" />
				<p:selectOneMenu id="sensor" value="#{measurementB.sensorId}"
					effect="fold" editable="false" update="">
					<p:ajax update="tabela" listener="#{measurementB.listMeasurements}" />
					<f:selectItem itemLabel="Select One" itemValue=""
						style="width: 30%;" />
					<f:selectItems value="#{measurementB.sensorsMap}" />
				</p:selectOneMenu>

			</p:panelGrid>
		</h:form>


		<p:dataTable id="tabela" var="item"
			value="#{measurementB.measurements}" paginator="true" rows="50"
			emptyMessage="Não há registros na lista"
			paginatorTemplate="{CurrentPageReport}  {PreviousPageLink} {PageLinks} {NextPageLink}  {RowsPerPageDropdown}">

			<p:column headerText="Value" style="width: 10%;">
				<div align="center">
					<h:outputText value="#{item.value}" />
				</div>
			</p:column>
			<p:column headerText="Time" style="width: 25%;">
				<div align="center">
					<h:outputText value="#{item.time}" />
				</div>
			</p:column>


		</p:dataTable>


	</ui:define>
</ui:decorate>

</html>